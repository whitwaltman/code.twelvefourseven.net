---
tags:
- ruby
- enumerables
summary: accumulator examples
---
```ruby
nums = (1..4).to_a
=> [1, 2, 3, 4]

# using a block w/ initial value (0)
total = nums.reduce(0) do |sum, num|
    sum + num
end
=> 10

# using a symbol shorthand for multiplication
product = nums.reduce(:*)
=> 24
```

generally prefer `reduce` over `inject`,[1] but this is not a hard requirement. `reduce` and `inject` are aliases of each other, but can have different semantic implications.[2] sometimes called `fold` in other languages (and in mathematics)[3]

when builidng a new object, `each_with_object` is typically preferred bc it passes the accumulator as the second arg and automatically returns the initial object (doesn't require you to explicitly return the accumulator at the end of the block)

```ruby
items = [1, ?a, :hi]

# accumulating into a hash using initial empty hash
item_hash = items.inject({}) do |hash, item|
    hash[item.to_s] = item
    hash # must return the accumulator for next iteration
end
=> { "1" => 1, "a" => ?a, "hi" => :hi }
```

[1]: https://rubystyle.guide/#map-find-select-reduce-include-size
[2]: https://stackoverflow.com/questions/13813243/is-inject-the-same-thing-as-reduce-in-ruby
[3]: https://en.wikipedia.org/wiki/Fold_(higher-order_function)